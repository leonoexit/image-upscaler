<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Upscaler — Real-ESRGAN</title>
    <meta name="description" content="Upscale your images with AI-powered Real-ESRGAN. Support batch processing, multiple scale options.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="bg-glow bg-glow-1"></div>
    <div class="bg-glow bg-glow-2"></div>
    <div class="bg-glow bg-glow-3"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <rect width="32" height="32" rx="8" fill="url(#logo-grad)"/>
                        <path d="M8 22L14 10L18 18L22 12L24 22H8Z" fill="white" opacity="0.9"/>
                        <circle cx="20" cy="11" r="2.5" fill="white" opacity="0.9"/>
                        <defs>
                            <linearGradient id="logo-grad" x1="0" y1="0" x2="32" y2="32">
                                <stop stop-color="#6366f1"/>
                                <stop offset="1" stop-color="#a855f7"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <div>
                    <h1>Image Upscaler</h1>
                    <p class="subtitle">Powered by Real-ESRGAN AI</p>
                </div>
            </div>
        </header>

        <!-- Upload Section -->
        <section class="card upload-section" id="uploadSection">
            <div class="drop-zone" id="dropZone">
                <div class="drop-zone-content">
                    <div class="upload-icon">
                        <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path d="M24 32V16M24 16L18 22M24 16L30 22" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8 28V36C8 38.2091 9.79086 40 12 40H36C38.2091 40 40 38.2091 40 36V28" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3>Kéo thả ảnh vào đây</h3>
                    <p>hoặc <span class="browse-link">chọn file từ máy tính</span></p>
                    <p class="drop-hint">PNG, JPG, JPEG, WebP, BMP, TIFF • Tối đa 20 ảnh • 20MB/ảnh</p>
                </div>
                <input type="file" id="fileInput" multiple accept="image/*" hidden>
            </div>

            <!-- Preview Grid -->
            <div class="preview-grid" id="previewGrid"></div>

            <!-- Options -->
            <div class="options-panel" id="optionsPanel" style="display:none;">
                <div class="option-group">
                    <label class="option-label">Scale Factor</label>
                    <div class="toggle-group" id="scaleToggle">
                        <button class="toggle-btn" data-value="2">2x</button>
                        <button class="toggle-btn active" data-value="4">4x</button>
                    </div>
                </div>
                <div class="option-group">
                    <label class="option-label">Model</label>
                    <div class="toggle-group" id="modelToggle">
                        <button class="toggle-btn active" data-value="RealESRGAN_x4plus">General</button>
                        <button class="toggle-btn" data-value="RealESRGAN_x4plus_anime_6B">Anime</button>
                    </div>
                </div>
                <button class="btn-primary" id="upscaleBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 14L10 3L17 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Upscale Images</span>
                </button>
            </div>
        </section>

        <!-- Progress Section -->
        <section class="card progress-section" id="progressSection" style="display:none;">
            <div class="progress-content">
                <div class="spinner"></div>
                <h3 id="progressTitle">Đang xử lý...</h3>
                <p id="progressSubtitle">Vui lòng đợi, quá trình upscale có thể mất vài phút</p>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="card results-section" id="resultsSection" style="display:none;">
            <div class="results-header">
                <h2>✨ Kết quả</h2>
                <button class="btn-secondary" id="newBatchBtn">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Upscale thêm
                </button>
            </div>
            <div class="results-grid" id="resultsGrid"></div>
        </section>
    </div>

    <script src="/script.js"></script>
</body>
</html>
